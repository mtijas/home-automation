title: Olohuone
icon: mdi:sofa
background: var(--background-image)
# The cards to show on this view.
cards:
  - type: vertical-stack
    cards:
      - type: grid
        columns: 3
        cards:
          - type: "custom:button-card"
            entity: input_boolean.living_room_light_automations
            name: "Automatiikka"
            tap_action:
              action: toggle
          - type: "custom:button-card"
            entity: input_boolean.living_room_should_illuminate
            name: "Pyynti"
            tap_action:
              action: more-info
          - type: light
            entity: light.olohuoneen_yleisvalot
            name: Yleisvalot
      - type: entities
        show_header_toggle: false
        entities:
          - type: custom:slider-entity-row
            entity: light.koristevalot
            toggle: true
          - type: custom:slider-entity-row
            entity: light.oh_valonauhat
            toggle: true
      - type: grid
        columns: 4
        cards:
          - type: "custom:button-card"
            entity: binary_sensor.parvekkeen_ovi
            color_type: card
            color: yellow
            name: Parv. ovi
            tap_action:
              action: more-info
            state:
              - value: "on"
                icon: mdi:door-open
              - operator: default
                icon: mdi:door-closed

  - type: vertical-stack
    cards:
      - type: horizontal-stack
        cards:
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                entity: switch.living_room_entertainment_switch
                icon: mdi:power-plug
                name: "Virta"
                tap_action:
                  action: toggle
                lock:
                  enabled: '[[[ return states["sensor.living_room_entertainment_status"].state === "on"; ]]]'
                  exemptions: []
              - type: "custom:button-card"
                entity: sensor.living_room_entertainment_status
                show_icon: false
                show_state: true
                show_name: false
                color_type: card
                tap_action:
                  action: more-info
                state:
                  - value: "off"
                    color: rgb(28, 28, 28)
                  - value: "standby"
                    color: rgb(255, 137, 77)
                  - value: "on"
                    color: rgb(48, 179, 9)
                  - value: "failed"
                    color: rgb(255, 0, 0)
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                icon: mdi:power-off
                name: "Sulje"
                color: rgb(255, 0, 0)
                lock:
                  enabled: '[[[ return states["sensor.living_room_entertainment_status"].state !== "on"; ]]]'
                  exemptions: []
                tap_action:
                  action: call-service
                  service: remote.turn_on
                  service_data:
                    entity_id: remote.living_room
                    activity: "PowerOff"
              - type: "custom:button-card"
                entity: remote.living_room
                show_icon: false
                show_state: true
                show_name: false
                color_type: card
                tap_action:
                  action: more-info
                state:
                  - value: "on"
                    color: rgb(48, 179, 9)
                  - operator: default
                    color: rgb(28, 28, 28)
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                icon: mdi:microsoft-xbox
                name: "Xbox"
                color: rgb(16, 124, 16)
                lock:
                  enabled: '[[[ return states["switch.living_room_entertainment_switch"].state === "off"; ]]]'
                  exemptions: []
                tap_action:
                  action: call-service
                  service: remote.turn_on
                  service_data:
                    entity_id: remote.living_room
                    activity: "Play Xbox One"
              - type: "custom:button-card"
                entity: switch.living_room_play_xbox_one
                show_icon: false
                show_state: true
                show_name: false
                color_type: card
                tap_action:
                  action: more-info
                state:
                  - value: "on"
                    color: rgb(48, 179, 9)
                  - operator: default
                    color: rgb(28, 28, 28)
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                icon: mdi:television-classic
                name: "TV"
                color: rgb(53, 115, 230)
                lock:
                  enabled: '[[[ return states["switch.living_room_entertainment_switch"].state === "off"; ]]]'
                  exemptions: []
                tap_action:
                  action: call-service
                  service: remote.turn_on
                  service_data:
                    entity_id: remote.living_room
                    activity: "Watch TV"
              - type: "custom:button-card"
                entity: switch.living_room_watch_tv
                show_icon: false
                show_state: true
                show_name: false
                color_type: card
                tap_action:
                  action: more-info
                state:
                  - value: "on"
                    color: rgb(48, 179, 9)
                  - operator: default
                    color: rgb(28, 28, 28)
          - type: vertical-stack
            cards:
              - type: "custom:button-card"
                icon: mdi:music
                name: "Music"
                color: rgb(242, 7, 125)
                lock:
                  enabled: '[[[ return states["switch.living_room_entertainment_switch"].state === "off"; ]]]'
                  exemptions: []
                tap_action:
                  action: call-service
                  service: remote.turn_on
                  service_data:
                    entity_id: remote.living_room
                    activity: "Manual music"
              - type: "custom:button-card"
                entity: switch.living_room_manual_music
                show_icon: false
                show_state: true
                show_name: false
                color_type: card
                tap_action:
                  action: more-info
                state:
                  - value: "on"
                    color: rgb(48, 179, 9)
                  - operator: default
                    color: rgb(28, 28, 28)
      - type: conditional
        conditions:
          - entity: binary_sensor.living_room_remote_on_activity
            state: "on"
        card:
          type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:volume-plus
              color: rgb(25, 140, 255)
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room
                  command:
                    - VolumeUp
                  device: NAD Amp
            - type: "custom:button-card"
              icon: mdi:volume-minus
              color: rgb(25, 140, 255)
              tap_action:
                action: call-service
                service: remote.send_command
                service_data:
                  entity_id: remote.living_room
                  command:
                    - VolumeDown
                  device: NAD Amp
      - type: media-control
        entity: media_player.olohuone
      - type: media-control
        entity: media_player.58pus7805_12

  - type: vertical-stack
    cards:
      - type: grid
        columns: 2
        square: false
        cards:
          - type: sensor
            hours_to_show: 6
            detail: 2
            graph: line
            name: "Lämpötila"
            entity: sensor.living_room_temperature
          - type: sensor
            hours_to_show: 6
            detail: 2
            graph: line
            name: "Kosteus"
            entity: sensor.living_room_humidity
      - type: entities
        show_header_toggle: false
        entities:
          - sensor.olohuoneen_kaasutaso
          - sensor.living_room_pressure
          - sensor.olohuoneen_valoisuus
          - sensor.living_room_brightness_needed_change
          - sensor.living_room_brightness_difference
          - sensor.living_room_entertainment_power
          - sensor.living_room_entertainment_plug_temp
      - type: entities
        show_header_toggle: false
        title: "Asetukset"
        entities:
          - input_number.decorative_lights_default_brightness
          - input_number.living_room_lightstrips_default_brightness
          - input_number.living_room_brightness_target
          - input_number.living_room_brightness_damping
          - input_boolean.prevent_living_room_entertainment_auto_off
          - input_number.living_room_entertainment_standby_threshold
